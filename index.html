<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sat-Track - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–ø—É—Ç–Ω–∏–∫–æ–≤</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: radial-gradient(ellipse at center, #0c0c1a 0%, #16213e 100%);
            color: #e0f7fa;
            overflow: hidden;
            height: 100vh;
            touch-action: none;
        }
        
        #scene-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        .header {
            position: relative;
            z-index: 10;
            padding: 15px 10px;
            text-align: center;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .header p {
            font-size: 0.9rem;
            opacity: 0.8;
            max-width: 300px;
            margin: 0 auto;
        }
        
        .info-panel {
            position: absolute;
            bottom: 15px;
            left: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 10;
            max-height: 360px;
            overflow: hidden;
            font-size: 0.9rem;
        }
        
        .tabs {
            display: flex;
            background: rgba(0, 0, 0, 0.5);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tab-btn {
            flex: 1;
            padding: 10px 8px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }
        
        .tab-btn.active {
            color: #4facfe;
            background: rgba(79, 172, 254, 0.2);
            font-weight: bold;
        }
        
        .tab-btn:hover:not(.active) {
            color: white;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .tab-content {
            padding: 15px;
            flex: 1;
            overflow-y: auto;
            line-height: 1.5;
            max-height: 300px;
        }
        
        .info-section {
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .info-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .info-section h4 {
            color: #00f2fe;
            margin-bottom: 8px;
            font-size: 1rem;
        }
        
        .satellite-count {
            position: absolute;
            top: 15px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.8rem;
            z-index: 10;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .zoom-info {
            position: absolute;
            top: 60px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.8rem;
            z-index: 10;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: right;
        }
        
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 5;
            color: white;
            font-size: 1.1rem;
            text-align: center;
            width: 200px;
        }
        
        .controls {
            position: absolute;
            bottom: 15px;
            right: 10px;
            z-index: 10;
            display: flex;
            gap: 8px;
        }
        
        .control-btn {
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.8rem;
        }
        
        .control-btn:hover {
            background: rgba(79, 172, 254, 0.3);
            transform: translateY(-1px);
        }
        
        .coordinate-label {
            position: absolute;
            color: white;
            font-size: 11px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 1);
            pointer-events: none;
            z-index: 20;
            background: rgba(0, 0, 0, 0.7);
            padding: 3px 6px;
            border-radius: 3px;
            white-space: nowrap;
        }
        
        @media (min-width: 769px) {
            .header h1 { font-size: 2.2rem; }
            .header p { font-size: 1rem; max-width: 500px; }
            .info-panel { max-height: 400px; }
            .tab-btn { padding: 12px 15px; font-size: 0.9rem; }
            .tab-content { padding: 20px; font-size: 1rem; max-height: 340px; }
            .controls { gap: 10px; }
            .control-btn { padding: 10px 15px; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Sat-Track</h1>
        <p>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–ø—É—Ç–Ω–∏–∫–æ–≤ –∏ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –º—É—Å–æ—Ä–∞</p>
    </div>
    
    <div class="satellite-count">
        <span id="satCount">–°–ø—É—Ç–Ω–∏–∫–∏: 0</span> | 
        <span id="debrisCount">–ú—É—Å–æ—Ä: 0</span>
    </div>
    
    <div class="zoom-info" id="zoomInfo">–ú–∞—Å—à—Ç–∞–±: LEO</div>
    
    <div id="scene-container"></div>
    
    <div class="info-panel">
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('basic')">–û—Å–Ω–æ–≤–Ω–æ–µ</button>
            <button class="tab-btn" onclick="switchTab('detailed')" id="detailedTab" style="display: none;">–ü–æ–¥—Ä–æ–±–Ω–æ</button>
            <button class="tab-btn" onclick="switchTab('status')">–°–æ—Å—Ç–æ—è–Ω–∏–µ</button>
            <button class="tab-btn" onclick="switchTab('orbital')">–û—Ä–±–∏—Ç–∞</button>
        </div>
        <div class="tab-content" id="tabContent">
            <h2 id="satellite-name" style="font-size: 1.2rem; margin-bottom: 10px;">–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç</h2>
            <div id="satellite-info">
                –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–ø—É—Ç–Ω–∏–∫ –∏–ª–∏ –º—É—Å–æ—Ä –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
            </div>
        </div>
    </div>
    
    <div class="controls">
        <button class="control-btn" onclick="resetView()">–°–±—Ä–æ—Å</button>
        <button class="control-btn" onclick="toggleRotation()">–ü–∞—É–∑–∞</button>
    </div>
    
    <div class="loading" id="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

    <script>
        // –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–ø—É—Ç–Ω–∏–∫–æ–≤
        const satelliteData = [
            {
                name: "ISS (ZARYA)",
                type: "–û—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è",
                altitude: 420,
                inclination: 51.6428,
                period: 92.7,
                operator: "NASA/Roscosmos/ESA/JAXA/CSA",
                launchDate: "20 –Ω–æ—è–±—Ä—è 1998",
                launchVehicle: "–ü—Ä–æ—Ç–æ–Ω-–ö",
                launchSite: "–ë–∞–π–∫–æ–Ω—É—Ä, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω",
                mass: "419,725 –∫–≥",
                dimensions: "109 –º √ó 73 –º √ó 45 –º",
                power: "120 –∫–í—Ç (—Å–æ–ª–Ω–µ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏)",
                crew: "3-7 —á–µ–ª–æ–≤–µ–∫",
                orbitType: "LEO",
                lifetime: "–î–æ 2030 –≥–æ–¥–∞",
                cost: "$150 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤",
                purpose: "–ù–∞—É—á–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ —É—Å–ª–æ–≤–∏—è—Ö –º–∏–∫—Ä–æ–≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏, –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–µ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π",
                interestingFacts: "–í–∏–¥–∏–º–∞ –Ω–µ–≤–æ–æ—Ä—É–∂–µ–Ω–Ω—ã–º –≥–ª–∞–∑–æ–º –∫–∞–∫ —è—Ä–∫–∞—è –∑–≤–µ–∑–¥–∞. –û–±–ª–µ—Ç–∞–µ—Ç –ó–µ–º–ª—é –∫–∞–∂–¥—ã–µ 90 –º–∏–Ω—É—Ç. –ù–∞ –±–æ—Ä—Ç—É –±–æ–ª–µ–µ 300 —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.",
                currentStatus: "–ê–∫—Ç–∏–≤–Ω–∞",
                recentEvents: "–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –º–∞–Ω–µ–≤—Ä—ã —É–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –º—É—Å–æ—Ä–∞. –ü–æ—Å–ª–µ–¥–Ω–∏–π –º–∞–Ω–µ–≤—Ä: —è–Ω–≤–∞—Ä—å 2026.",
                signal: "95%",
                battery: "88%",
                temperature: "-10¬∞C",
                health: "–ò—Å–ø—Ä–∞–≤–Ω–∞",
                missionPhase: "–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∞–∑–∞"
            },
            {
                name: "HUBBLE SPACE TELESCOPE",
                type: "–ù–∞—É—á–Ω—ã–π",
                altitude: 540,
                inclination: 28.4699,
                period: 95.4,
                operator: "NASA/ESA",
                launchDate: "24 –∞–ø—Ä–µ–ª—è 1990",
                launchVehicle: "Space Shuttle Discovery (STS-31)",
                launchSite: "–ö–µ–π–ø-–ö–∞–Ω–∞–≤–µ—Ä–∞–ª, –°–®–ê",
                mass: "11,110 –∫–≥",
                dimensions: "13.2 –º √ó 4.2 –º –¥–∏–∞–º–µ—Ç—Ä",
                power: "2.8 –∫–í—Ç (—Å–æ–ª–Ω–µ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏)",
                crew: "–ë–µ–∑ —ç–∫–∏–ø–∞–∂–∞",
                orbitType: "LEO",
                lifetime: "1990-–Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è",
                cost: "$2.5 –º–∏–ª–ª–∏–∞—Ä–¥–∞ (–∑–∞–ø—É—Å–∫) + $10 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ (–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ)",
                purpose: "–ê—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –≤ –≤–∏–¥–∏–º–æ–º, —É–ª—å—Ç—Ä–∞—Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–º –∏ –±–ª–∏–∂–Ω–µ–º –∏–Ω—Ñ—Ä–∞–∫—Ä–∞—Å–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö",
                interestingFacts: "–°–¥–µ–ª–∞–ª –±–æ–ª–µ–µ 1.5 –º–∏–ª–ª–∏–æ–Ω–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π. –ü–æ–º–æ–≥ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–æ–∑—Ä–∞—Å—Ç –í—Å–µ–ª–µ–Ω–Ω–æ–π (13.8 –º–ª—Ä–¥ –ª–µ—Ç). –û—Ä–±–∏—Ç–∞ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω–æ–≥–æ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏—è.",
                currentStatus: "–ê–∫—Ç–∏–≤–µ–Ω",
                recentEvents: "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ: –º–∞–π 2009 –≥–æ–¥–∞. –û–∂–∏–¥–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –¥–æ 2030-2040 –≥–æ–¥–æ–≤.",
                signal: "98%",
                battery: "92%",
                temperature: "-90¬∞C",
                health: "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å",
                missionPhase: "–§–∏–Ω–∞–ª—å–Ω–∞—è —Ñ–∞–∑–∞"
            },
            {
                name: "STARLINK-1234",
                type: "–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π",
                altitude: 550,
                inclination: 53.0,
                period: 95.0,
                operator: "SpaceX",
                launchDate: "–ú–∞–π 2019",
                launchVehicle: "Falcon 9",
                launchSite: "–ö–µ–π–ø-–ö–∞–Ω–∞–≤–µ—Ä–∞–ª, –°–®–ê",
                mass: "260 –∫–≥",
                dimensions: "3.1 –º —Å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–º–∏ –ø–∞–Ω–µ–ª—è–º–∏",
                power: "2 –∫–í—Ç (—Å–æ–ª–Ω–µ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏)",
                crew: "–ë–µ–∑ —ç–∫–∏–ø–∞–∂–∞",
                orbitType: "LEO",
                lifetime: "5 –ª–µ—Ç",
                cost: "$2,500 –∑–∞ –µ–¥–∏–Ω–∏—Ü—É",
                purpose: "–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Ä–∞–π–æ–Ω–∞—Ö",
                interestingFacts: "–ü–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –Ω–∞ 2026 –≥–æ–¥ —Å–æ–∑–≤–µ–∑–¥–∏–µ –Ω–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–æ–ª–µ–µ 5,000 —Å–ø—É—Ç–Ω–∏–∫–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–æ–Ω–Ω—ã–µ –¥–≤–∏–≥–∞—Ç–µ–ª–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—Ä–±–∏—Ç—ã. –ú–æ–∂–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ —É–∫–ª–æ–Ω—è—Ç—å—Å—è –æ—Ç –º—É—Å–æ—Ä–∞.",
                currentStatus: "–ê–∫—Ç–∏–≤–µ–Ω",
                recentEvents: "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–æ–∑–≤–µ–∑–¥–∏—è. –ü–ª–∞–Ω –¥–æ 42,000 —Å–ø—É—Ç–Ω–∏–∫–æ–≤.",
                signal: "87%",
                battery: "78%",
                temperature: "-120¬∞C",
                health: "–ò—Å–ø—Ä–∞–≤–µ–Ω",
                missionPhase: "–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ"
            },
            {
                name: "GPS IIF-10 (PRN 01)",
                type: "–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π",
                altitude: 20200,
                inclination: 55.0,
                period: 718.0,
                operator: "US Space Force",
                launchDate: "17 —Ñ–µ–≤—Ä–∞–ª—è 2016",
                launchVehicle: "Atlas V 401",
                launchSite: "–ö–µ–π–ø-–ö–∞–Ω–∞–≤–µ—Ä–∞–ª, –°–®–ê",
                mass: "1,633 –∫–≥",
                dimensions: "5.3 –º —Å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–º–∏ –ø–∞–Ω–µ–ª—è–º–∏",
                power: "2.5 –∫–í—Ç (—Å–æ–ª–Ω–µ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏)",
                crew: "–ë–µ–∑ —ç–∫–∏–ø–∞–∂–∞",
                orbitType: "MEO",
                lifetime: "12 –ª–µ—Ç",
                cost: "$200 –º–∏–ª–ª–∏–æ–Ω–æ–≤",
                purpose: "–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –≤–æ–µ–Ω–Ω—ã—Ö –∏ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
                interestingFacts: "–°–∏–≥–Ω–∞–ª—ã GPS –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –Ω–æ –∏ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –∏ —ç–Ω–µ—Ä–≥–æ—Å–µ—Ç—è—Ö.",
                currentStatus: "–ê–∫—Ç–∏–≤–µ–Ω",
                recentEvents: "–ß–∞—Å—Ç—å –º–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–∑–≤–µ–∑–¥–∏—è GPS Block IIF. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å.",
                signal: "99%",
                battery: "88%",
                temperature: "-150¬∞C",
                health: "–ò—Å–ø—Ä–∞–≤–µ–Ω",
                missionPhase: "–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∞–∑–∞"
            },
            {
                name: "GOES-16",
                type: "–ú–µ—Ç–µ–æ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π",
                altitude: 35786,
                inclination: 0.0,
                period: 1436.0,
                operator: "NOAA/NASA",
                launchDate: "19 –Ω–æ—è–±—Ä—è 2016",
                launchVehicle: "Atlas V 541",
                launchSite: "–ö–µ–π–ø-–ö–∞–Ω–∞–≤–µ—Ä–∞–ª, –°–®–ê",
                mass: "5,192 –∫–≥",
                dimensions: "6.1 –º —Å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–º–∏ –ø–∞–Ω–µ–ª—è–º–∏",
                power: "4 –∫–í—Ç (—Å–æ–ª–Ω–µ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏)",
                crew: "–ë–µ–∑ —ç–∫–∏–ø–∞–∂–∞",
                orbitType: "GEO",
                lifetime: "15 –ª–µ—Ç",
                cost: "$1.1 –º–∏–ª–ª–∏–∞—Ä–¥–∞",
                purpose: "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–≥–æ–¥—ã, –∫–ª–∏–º–∞—Ç–∞, –æ–∫–µ–∞–Ω–æ–≤ –∏ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π –ø–æ–≥–æ–¥—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏",
                interestingFacts: "–ú–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å —Å–Ω–∏–º–∫–∏ –≤—Å–µ–π –ó–µ–º–Ω–æ–≥–æ –¥–∏—Å–∫–∞ –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç –∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥. –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –º–æ–ª–Ω–∏–∏ –∏ –ø—ã–ª—å–Ω—ã–µ –±—É—Ä–∏.",
                currentStatus: "–ê–∫—Ç–∏–≤–µ–Ω",
                recentEvents: "–û—Å–Ω–æ–≤–Ω–æ–π —Å–ø—É—Ç–Ω–∏–∫ –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ —É—Ä–∞–≥–∞–Ω–∞–º–∏ –≤ –ê—Ç–ª–∞–Ω—Ç–∏–∫–µ. –ó–∞–º–µ–Ω–∏–ª GOES-13 –≤ 2017 –≥–æ–¥—É.",
                signal: "96%",
                battery: "90%",
                temperature: "-180¬∞C",
                health: "–ò—Å–ø—Ä–∞–≤–µ–Ω",
                missionPhase: "–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∞–∑–∞"
            }
        ];

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let scene, camera, renderer, earth, sun, stars;
        let satellites = [], debrisObjects = [];
        let raycaster = new THREE.Raycaster();
        let mouse = new THREE.Vector2();
        let isRotating = true;
        let selectedObject = null;
        let coordinateLabel = null;
        let currentTab = 'basic';
        
        let isDragging = false;
        let previousMousePosition = { x: 0, y: 0 };
        let cameraRadius = 20;
        let cameraPolarAngle = Math.PI / 2;
        let cameraAzimuthalAngle = 0;
        
        // –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –º–∞—Å—à—Ç–∞–±–∞
        let currentZoomLevel = 'leo'; // leo, meo, geo
        
        function init() {
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x020924);
            
            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
            updateCameraPosition();
            
            const pixelRatio = Math.min(window.devicePixelRatio, 2);
            renderer = new THREE.WebGLRenderer({ 
                antialias: false,
                alpha: true 
            });
            renderer.setPixelRatio(pixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('scene-container').appendChild(renderer.domElement);
            
            createStars();
            createSun();
            createEarth();
            createSatellites();
            createDebris();
            
            setupEventListeners();
            createCoordinateLabel();
            
            document.getElementById('loading').style.display = 'none';
            updateCounters();
            animate();
        }
        
        function createStars() {
            const starCount = 2000;
            const positions = new Float32Array(starCount * 3);
            
            for (let i = 0; i < starCount * 3; i += 3) {
                const radius = 100 + Math.random() * 50;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos(2 * Math.random() - 1);
                
                positions[i] = radius * Math.sin(phi) * Math.cos(theta);
                positions[i + 1] = radius * Math.sin(phi) * Math.sin(theta);
                positions[i + 2] = radius * Math.cos(phi);
            }
            
            const geometry = new THREE.BufferGeometry();
            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            
            const material = new THREE.PointsMaterial({ 
                color: 0xffffff, 
                size: 1.2, 
                sizeAttenuation: true 
            });
            
            stars = new THREE.Points(geometry, material);
            scene.add(stars);
        }
        
        function createSun() {
            // –°–æ–ª–Ω—Ü–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –º–µ—Å—Ç–µ (–≤–Ω–µ —Å—Ü–µ–Ω—ã)
            const sunGeometry = new THREE.SphereGeometry(3, 32, 32);
            const sunMaterial = new THREE.MeshBasicMaterial({ 
                color: 0xffdd00,
                emissive: 0xffaa00,
                emissiveIntensity: 0.8
            });
            
            sun = new THREE.Mesh(sunGeometry, sunMaterial);
            // –ü–æ–º–µ—â–∞–µ–º –°–æ–ª–Ω—Ü–µ –≤–¥–∞–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ 250 –µ–¥–∏–Ω–∏—Ü –æ—Ç —Ü–µ–Ω—Ç—Ä–∞)
            sun.position.set(250, 150, 250);
            scene.add(sun);
            
            // –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Å–≤–µ—Ç –æ—Ç –°–æ–ª–Ω—Ü–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Å–≤–µ—â–µ–Ω–∏—è)
            const sunLight = new THREE.DirectionalLight(0xffffff, 1.5);
            sunLight.position.copy(sun.position);
            sunLight.target.position.set(0, 0, 0); // –°–≤–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Ü–µ–Ω—Ç—Ä —Å—Ü–µ–Ω—ã (–ó–µ–º–ª—é)
            scene.add(sunLight);
            scene.add(sunLight.target); // –í–∞–∂–Ω–æ: –¥–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å —Å–≤–µ—Ç–∞ –∫ —Å—Ü–µ–Ω–µ
        }
        
        function createEarth() {
            const geometry = new THREE.SphereGeometry(5, 32, 32);
            const textureLoader = new THREE.TextureLoader();
            
            const earthTexture = textureLoader.load(
                'https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg',
                undefined,
                undefined,
                (err) => console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ–∫—Å—Ç—É—Ä—ã –ó–µ–º–ª–∏:', err)
            );
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º MeshPhongMaterial —Å –æ—Å–≤–µ—â–µ–Ω–∏–µ–º –æ—Ç –°–æ–ª–Ω—Ü–∞ (–∞ –Ω–µ ambient)
            const earthMaterial = new THREE.MeshPhongMaterial({ 
                map: earthTexture,
                specular: new THREE.Color(0x333333),
                shininess: 5
            });
            
            earth = new THREE.Mesh(geometry, earthMaterial);
            scene.add(earth);
        }
        
        function createSatellites() {
            const colors = [0x4facfe, 0x00f2fe, 0xff6b6b, 0x4ecdc4, 0xffd166];
            
            satelliteData.forEach((data, index) => {
                const speed = (2 * Math.PI) / (data.period * 60);
                const radius = 5 + (data.altitude / 1000);
                
                const geometry = new THREE.SphereGeometry(0.25, 8, 8);
                const material = new THREE.MeshPhongMaterial({ 
                    color: colors[index % colors.length],
                    emissive: colors[index % colors.length],
                    emissiveIntensity: 0.3
                });
                
                const satellite = new THREE.Mesh(geometry, material);
                satellite.userData = { 
                    ...data,
                    radius: radius,
                    speed: speed,
                    angle: Math.random() * Math.PI * 2,
                    lastUpdate: Date.now()
                };
                satellite.name = data.name;
                updateSatellitePosition(satellite);
                scene.add(satellite);
                satellites.push(satellite);
            });
        }
        
        function createDebris() {
            for (let i = 0; i < 25; i++) {
                const size = Math.random() * 0.15 + 0.08;
                const geometry = new THREE.BoxGeometry(size, size, size);
                const material = new THREE.MeshPhongMaterial({ 
                    color: 0xff6b6b,
                    emissive: 0x333333,
                    emissiveIntensity: 0.2
                });
                
                const altitude = 400 + Math.random() * 1600;
                const radius = 5 + (altitude / 1000);
                const period = 90 + Math.random() * 30;
                const speed = (2 * Math.PI) / (period * 60);
                
                const debris = new THREE.Mesh(geometry, material);
                debris.userData = { 
                    type: 'debris',
                    radius: Math.max(5.4, radius),
                    speed: speed,
                    angle: Math.random() * Math.PI * 2,
                    altitude: Math.round(altitude),
                    name: `–û–±–ª–æ–º–æ–∫ ${i + 1}`,
                    lastUpdate: Date.now(),
                    mass: `${(Math.random() * 100 + 1).toFixed(1)} –∫–≥`,
                    dangerLevel: Math.random() > 0.7 ? "–í—ã—Å–æ–∫–∏–π" : Math.random() > 0.4 ? "–°—Ä–µ–¥–Ω–∏–π" : "–ù–∏–∑–∫–∏–π",
                    velocity: `${Math.floor(Math.random() * 5000 + 25000)} –∫–º/—á`,
                    collisionRisk: Math.random() > 0.8 ? "–í—ã—Å–æ–∫–∏–π" : "–ù–∏–∑–∫–∏–π"
                };
                
                updateDebrisPosition(debris);
                scene.add(debris);
                debrisObjects.push(debris);
            }
        }
        
        function updateSatellitePosition(satellite) {
            const userData = satellite.userData;
            const now = Date.now();
            const deltaTime = (now - userData.lastUpdate) / 1000;
            userData.angle += userData.speed * deltaTime;
            userData.lastUpdate = now;
            
            const x = Math.cos(userData.angle) * userData.radius;
            const z = Math.sin(userData.angle) * userData.radius;
            satellite.position.set(x, 0, z);
        }
        
        function updateDebrisPosition(debris) {
            const userData = debris.userData;
            const now = Date.now();
            const deltaTime = (now - userData.lastUpdate) / 1000;
            userData.angle += userData.speed * deltaTime;
            userData.lastUpdate = now;
            
            const x = Math.cos(userData.angle) * userData.radius;
            const z = Math.sin(userData.angle) * userData.radius;
            const y = Math.sin(userData.angle * 3) * 0.5;
            debris.position.set(x, y, z);
        }
        
        function createCoordinateLabel() {
            coordinateLabel = document.createElement('div');
            coordinateLabel.className = 'coordinate-label';
            coordinateLabel.style.display = 'none';
            document.body.appendChild(coordinateLabel);
        }
        
        function updateCoordinateLabel(object) {
            if (!coordinateLabel || !isRotating) return;
            
            const vector = object.position.clone();
            vector.project(camera);
            
            if (Math.abs(vector.x) > 1.5 || Math.abs(vector.y) > 1.5 || vector.z > 1 || vector.z < -1) {
                coordinateLabel.style.display = 'none';
                return;
            }
            
            const x = (vector.x * 0.5 + 0.5) * window.innerWidth;
            const y = (-vector.y * 0.5 + 0.5) * window.innerHeight;
            coordinateLabel.style.left = (x + 8) + 'px';
            coordinateLabel.style.top = (y - 8) + 'px';
            
            const userData = object.userData;
            const lat = (Math.sin(userData.angle) * 90).toFixed(1);
            const lon = (Math.cos(userData.angle) * 180).toFixed(1);
            coordinateLabel.innerHTML = `${lat}¬∞, ${lon}¬∞<br>${userData.altitude} –∫–º`;
            coordinateLabel.style.display = 'block';
        }
        
        function hideCoordinateLabel() {
            if (coordinateLabel) coordinateLabel.style.display = 'none';
        }
        
        function updateCameraPosition() {
            cameraPolarAngle = Math.max(0.2, Math.min(Math.PI - 0.2, cameraPolarAngle));
            const x = cameraRadius * Math.sin(cameraPolarAngle) * Math.cos(cameraAzimuthalAngle);
            const y = cameraRadius * Math.cos(cameraPolarAngle);
            const z = cameraRadius * Math.sin(cameraPolarAngle) * Math.sin(cameraAzimuthalAngle);
            camera.position.set(x, y, z);
            camera.lookAt(0, 0, 0);
        }
        
        function setupEventListeners() {
            const canvas = renderer.domElement;
            
            canvas.addEventListener('mousedown', (e) => {
                if (e.button === 0) {
                    isDragging = true;
                    previousMousePosition = { x: e.clientX, y: e.clientY };
                    canvas.style.cursor = 'grabbing';
                }
            });
            
            canvas.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    const deltaX = e.clientX - previousMousePosition.x;
                    const deltaY = e.clientY - previousMousePosition.y;
                    
                    cameraAzimuthalAngle += deltaX * 0.01;
                    cameraPolarAngle -= deltaY * 0.01;
                    
                    updateCameraPosition();
                    previousMousePosition = { x: e.clientX, y: e.clientY };
                }
            });
            
            canvas.addEventListener('mouseup', () => {
                isDragging = false;
                canvas.style.cursor = 'grab';
            });
            
            canvas.addEventListener('click', handleClick);
            canvas.addEventListener('wheel', handleWheel);
            
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                if (selectedObject) updateCoordinateLabel(selectedObject);
            });
            
            canvas.style.cursor = 'grab';
        }
        
        function handleWheel(e) {
            e.preventDefault();
            const delta = e.deltaY > 0 ? 1 : -1;
            cameraRadius += delta * 2;
            cameraRadius = Math.max(8, Math.min(50, cameraRadius));
            updateCameraPosition();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –º–∞—Å—à—Ç–∞–±–∞
            if (cameraRadius <= 15) {
                currentZoomLevel = 'geo';
                document.getElementById('zoomInfo').textContent = '–ú–∞—Å—à—Ç–∞–±: GEO\n(–¥–æ 36000 –∫–º)';
            } else if (cameraRadius <= 25) {
                currentZoomLevel = 'meo';
                document.getElementById('zoomInfo').textContent = '–ú–∞—Å—à—Ç–∞–±: LEO+MEO\n(–¥–æ 23000 –∫–º)';
            } else {
                currentZoomLevel = 'leo';
                document.getElementById('zoomInfo').textContent = '–ú–∞—Å—à—Ç–∞–±: LEO\n(–¥–æ 2000 –∫–º)';
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —Å–ø—É—Ç–Ω–∏–∫–∏ –ø–æ —É—Ä–æ–≤–Ω—é –º–∞—Å—à—Ç–∞–±–∞
            updateSatelliteVisibility();
        }
        
        function updateSatelliteVisibility() {
            satellites.forEach(sat => {
                const altitude = sat.userData.altitude;
                if (currentZoomLevel === 'leo') {
                    sat.visible = altitude <= 2000;
                } else if (currentZoomLevel === 'meo') {
                    sat.visible = altitude <= 23000;
                } else {
                    sat.visible = true;
                }
            });
            
            debrisObjects.forEach(deb => {
                const altitude = deb.userData.altitude;
                if (currentZoomLevel === 'leo') {
                    deb.visible = altitude <= 2000;
                } else if (currentZoomLevel === 'meo') {
                    deb.visible = altitude <= 23000;
                } else {
                    deb.visible = true;
                }
            });
        }
        
        function handleClick(e) {
            if (isDragging) return;
            
            mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
            
            raycaster.setFromCamera(mouse, camera);
            const allObjects = [...satellites, ...debrisObjects];
            const intersects = raycaster.intersectObjects(allObjects);
            
            if (intersects.length > 0) {
                const clickedObject = intersects[0].object;
                showSatelliteInfo(clickedObject);
                highlightSelected(clickedObject);
                updateCoordinateLabel(clickedObject);
            } else {
                clearSelection();
                showDefaultInfo();
                hideCoordinateLabel();
            }
        }
        
        function showSatelliteInfo(object) {
            const data = object.userData;
            const isSatellite = data.type !== 'debris';
            const iconColor = isSatellite ? '#4facfe' : '#ff6b6b';
            
            const detailedTab = document.getElementById('detailedTab');
            if (isSatellite) {
                detailedTab.style.display = 'block';
            } else {
                detailedTab.style.display = 'none';
                if (currentTab === 'detailed') {
                    currentTab = 'basic';
                    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                    document.querySelector('.tab-btn:first-child').classList.add('active');
                }
            }
            
            document.getElementById('satellite-name').textContent = data.name;
            
            if (currentTab === 'basic') {
                if (isSatellite) {
                    document.getElementById('satellite-info').innerHTML = `
                        <strong>–¢–∏–ø:</strong> ${data.type}<br>
                        <strong>–û—Ä–±–∏—Ç–∞:</strong> ${data.orbitType}<br>
                        <strong>–í—ã—Å–æ—Ç–∞:</strong> ${data.altitude} –∫–º<br>
                        <strong>–ù–∞–∫–ª–æ–Ω–µ–Ω–∏–µ:</strong> ${data.inclination.toFixed(2)}¬∞<br>
                        <strong>–ü–µ—Ä–∏–æ–¥:</strong> ${data.period.toFixed(1)} –º–∏–Ω<br>
                        <strong>–û–ø–µ—Ä–∞—Ç–æ—Ä:</strong> ${data.operator}
                    `;
                } else {
                    document.getElementById('satellite-info').innerHTML = `
                        <strong>–¢–∏–ø:</strong> –ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –º—É—Å–æ—Ä<br>
                        <strong>–í—ã—Å–æ—Ç–∞:</strong> ${data.altitude} –∫–º<br>
                        <strong>–ú–∞—Å—Å–∞:</strong> ${data.mass}<br>
                        <strong>–£—Ä–æ–≤–µ–Ω—å –æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</strong> ${data.dangerLevel}
                    `;
                }
            } 
            else if (currentTab === 'detailed' && isSatellite) {
                document.getElementById('satellite-info').innerHTML = `
                    <div class="info-section">
                        <h4>üõ∞Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h4>
                        <strong>–¢–∏–ø:</strong> ${data.type}<br>
                        <strong>–û–ø–µ—Ä–∞—Ç–æ—Ä:</strong> ${data.operator}<br>
                        <strong>–°—Ç–∞—Ç—É—Å:</strong> ${data.currentStatus}
                    </div>
                    
                    <div class="info-section">
                        <h4>üìè –û—Ä–±–∏—Ç–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h4>
                        <strong>–í—ã—Å–æ—Ç–∞ –æ—Ä–±–∏—Ç—ã:</strong> ${data.altitude} –∫–º<br>
                        <strong>–ù–∞–∫–ª–æ–Ω–µ–Ω–∏–µ:</strong> ${data.inclination.toFixed(2)}¬∞<br>
                        <strong>–ü–µ—Ä–∏–æ–¥ –æ–±—Ä–∞—â–µ–Ω–∏—è:</strong> ${data.period.toFixed(1)} –º–∏–Ω—É—Ç<br>
                        <strong>–°–∫–æ—Ä–æ—Å—Ç—å:</strong> ${(27000 - data.altitude/10).toFixed(0)} –∫–º/—á
                    </div>
                    
                    <div class="info-section">
                        <h4>üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h4>
                        <strong>–ú–∞—Å—Å–∞:</strong> ${data.mass}<br>
                        <strong>–†–∞–∑–º–µ—Ä—ã:</strong> ${data.dimensions}<br>
                        <strong>–≠–Ω–µ—Ä–≥–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ:</strong> ${data.power}<br>
                        <strong>–≠–∫–∏–ø–∞–∂:</strong> ${data.crew}
                    </div>
                    
                    <div class="info-section">
                        <h4>üöÄ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—É—Å–∫–∞</h4>
                        <strong>–î–∞—Ç–∞ –∑–∞–ø—É—Å–∫–∞:</strong> ${data.launchDate}<br>
                        <strong>–†–∞–∫–µ—Ç–∞-–Ω–æ—Å–∏—Ç–µ–ª—å:</strong> ${data.launchVehicle}<br>
                        <strong>–ö–æ—Å–º–æ–¥—Ä–æ–º:</strong> ${data.launchSite}<br>
                        <strong>–°—Ä–æ–∫ —Å–ª—É–∂–±—ã:</strong> ${data.lifetime}
                    </div>
                    
                    <div class="info-section">
                        <h4>üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å</h4>
                        <strong>–¶–µ–ª—å:</strong> ${data.purpose}<br>
                        <strong>–°—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${data.cost}
                    </div>
                    
                    <div class="info-section">
                        <h4>‚ú® –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–∫—Ç—ã</h4>
                        ${data.interestingFacts}
                    </div>
                    
                    <div class="info-section">
                        <h4>üì∞ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</h4>
                        ${data.recentEvents}
                    </div>
                `;
            }
            else if (currentTab === 'status') {
                if (isSatellite) {
                    document.getElementById('satellite-info').innerHTML = `
                        <div class="info-section">
                            <h4>üì° –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º</h4>
                            <strong>–°–æ—Å—Ç–æ—è–Ω–∏–µ:</strong> ${data.health}<br>
                            <strong>–°–∏–≥–Ω–∞–ª —Å–≤—è–∑–∏:</strong> ${data.signal}<br>
                            <strong>–ó–∞—Ä—è–¥ –±–∞—Ç–∞—Ä–µ–∏:</strong> ${data.battery}<br>
                            <strong>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:</strong> ${data.temperature}<br>
                            <strong>–§–∞–∑–∞ –º–∏—Å—Å–∏–∏:</strong> ${data.missionPhase}
                        </div>
                        
                        <div class="info-section">
                            <h4>üìà –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è</h4>
                            <strong>–ü–æ—Å–ª–µ–¥–Ω—è—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è:</strong> ${new Date().toLocaleTimeString()}<br>
                            <strong>–í—Ä–µ–º—è –ø–æ–ª–µ—Ç–∞:</strong> ${Math.floor(Math.random() * 10000)} –¥–Ω–µ–π
                        </div>
                    `;
                } else {
                    document.getElementById('satellite-info').innerHTML = `
                        <div class="info-section">
                            <h4>‚ö†Ô∏è –°–æ—Å—Ç–æ—è–Ω–∏–µ –º—É—Å–æ—Ä–∞</h4>
                            <strong>–°–∫–æ—Ä–æ—Å—Ç—å:</strong> ${data.velocity}<br>
                            <strong>–†–∏—Å–∫ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è:</strong> ${data.collisionRisk}<br>
                            <strong>–ú–∞—Å—Å–∞:</strong> ${data.mass}<br>
                            <strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> ${new Date().toLocaleTimeString()}
                        </div>
                    `;
                }
            }
            else if (currentTab === 'orbital') {
                if (isSatellite) {
                    document.getElementById('satellite-info').innerHTML = `
                        <div class="info-section">
                            <h4>üìà –ê–Ω–∞–ª–∏–∑ –æ—Ä–±–∏—Ç—ã</h4>
                            <strong>–¢–∏–ø –æ—Ä–±–∏—Ç—ã:</strong> ${data.orbitType}<br>
                            <strong>–í—ã—Å–æ—Ç–∞:</strong> ${data.altitude} –∫–º<br>
                            <strong>–ù–∞–∫–ª–æ–Ω–µ–Ω–∏–µ:</strong> ${data.inclination.toFixed(2)}¬∞<br>
                            <strong>–ü–µ—Ä–∏–æ–¥:</strong> ${data.period.toFixed(1)} –º–∏–Ω<br>
                            <strong>–°–∫–æ—Ä–æ—Å—Ç—å:</strong> ${(27000 - data.altitude/10).toFixed(0)} –∫–º/—á<br>
                            <strong>–≠–∫—Å—Ü–µ–Ω—Ç—Ä–∏—Å–∏—Ç–µ—Ç:</strong> ${(Math.random() * 0.01).toFixed(4)}
                        </div>
                        
                        <div class="info-section">
                            <h4>üîÑ –ü—Ä–æ–≥–Ω–æ–∑ –æ—Ä–±–∏—Ç—ã</h4>
                            <strong>–°–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ–ª–µ—Ç:</strong> ${Math.floor(Math.random() * 60 + 10)} –º–∏–Ω<br>
                            <strong>–û–±–æ—Ä–æ—Ç–æ–≤ –≤ —Å—É—Ç–∫–∏:</strong> ${(1440 / data.period).toFixed(1)}<br>
                            <strong>–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π —Å—Ä–æ–∫ —Å–ª—É–∂–±—ã:</strong> ${data.lifetime}
                        </div>
                    `;
                } else {
                    document.getElementById('satellite-info').innerHTML = `
                        <div class="info-section">
                            <h4>ŸÖÿØÿßÿ± ŸÖÿ¥ÿÆÿµÿßÿ™</h4> <!-- –≠—Ç–æ –ø–µ—Ä—Å–∏–¥—Å–∫–∏–π —Ç–µ–∫—Å—Ç -->
                            <strong>–¢–∏–ø:</strong> –ù–µ—É–ø—Ä–∞–≤–ª—è–µ–º–∞—è –æ—Ä–±–∏—Ç–∞<br>
                            <strong>–í—ã—Å–æ—Ç–∞:</strong> ${data.altitude} –∫–º<br>
                            <strong>–°–∫–æ—Ä–æ—Å—Ç—å:</strong> ${data.velocity}<br>
                            <strong>–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ:</strong> –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ
                        </div>
                        
                        <div class="info-section">
                            <h4>‚ö†Ô∏è –ê–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤</h4>
                            <strong>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è:</strong> ${data.collisionRisk}<br>
                            <strong>–û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:</strong> ${(Math.random() > 0.3 ? '–î–∞' : '–°–ª–æ–∂–Ω–æ')}<br>
                            <strong>–°—Ç–∞—Ç—É—Å —Å–ª–µ–∂–µ–Ω–∏—è:</strong> ${(Math.random() > 0.2 ? '–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è' : '–ù–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è')}
                        </div>
                    `;
                }
            }
        }
        
        function showDefaultInfo() {
            document.getElementById('satellite-name').textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç';
            document.getElementById('satellite-info').textContent = '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–ø—É—Ç–Ω–∏–∫ –∏–ª–∏ –º—É—Å–æ—Ä –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏';
            document.getElementById('detailedTab').style.display = 'none';
            currentTab = 'basic';
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.tab-btn:first-child').classList.add('active');
        }
        
        function highlightSelected(object) {
            if (selectedObject) selectedObject.material.emissiveIntensity = 0.3;
            object.material.emissiveIntensity = 0.8;
            selectedObject = object;
        }
        
        function clearSelection() {
            if (selectedObject) selectedObject.material.emissiveIntensity = 0.3;
            selectedObject = null;
        }
        
        function updateCounters() {
            document.getElementById('satCount').textContent = `–°–ø—É—Ç–Ω–∏–∫–∏: ${satellites.filter(s => s.visible).length}`;
            document.getElementById('debrisCount').textContent = `–ú—É—Å–æ—Ä: ${debrisObjects.filter(d => d.visible).length}`;
        }
        
        function resetView() {
            cameraRadius = 20;
            cameraPolarAngle = Math.PI / 2;
            cameraAzimuthalAngle = 0;
            updateCameraPosition();
            
            // –°–±—Ä–æ—Å —É—Ä–æ–≤–Ω—è –º–∞—Å—à—Ç–∞–±–∞
            currentZoomLevel = 'leo';
            document.getElementById('zoomInfo').textContent = '–ú–∞—Å—à—Ç–∞–±: LEO\n(–¥–æ 2000 –∫–º)';
            updateSatelliteVisibility();
        }
        
        function toggleRotation() {
            isRotating = !isRotating;
            if (!isRotating) hideCoordinateLabel();
            else if (selectedObject) updateCoordinateLabel(selectedObject);
        }
        
        function animate() {
            requestAnimationFrame(animate);
            
            if (isRotating) {
                if (earth) earth.rotation.y += 0.002;
                
                // –°–æ–ª–Ω—Ü–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ –æ—Ä–±–∏—Ç–µ (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ: –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ)
                if (sun) {
                    const sunAngle = Date.now() * 0.00002;
                    sun.position.x = 250 * Math.cos(sunAngle);
                    sun.position.z = 250 * Math.sin(sunAngle);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é —Å–≤–µ—Ç–∞ –æ—Ç –°–æ–ª–Ω—Ü–∞
                    const sunLight = scene.children.find(child => child.isDirectionalLight);
                    if (sunLight) {
                        sunLight.position.copy(sun.position);
                    }
                }
                
                satellites.forEach(sat => updateSatellitePosition(sat));
                debrisObjects.forEach(deb => updateDebrisPosition(deb));
                
                if (selectedObject) updateCoordinateLabel(selectedObject);
            }
            
            renderer.render(scene, camera);
        }
        
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            if (selectedObject) updateCoordinateLabel(selectedObject);
        }
        
        function switchTab(tabName) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            currentTab = tabName;
            
            if (selectedObject) showSatelliteInfo(selectedObject);
            else showDefaultInfo();
        }
        
        window.onload = () => {
            if (!window.WebGLRenderingContext) {
                document.getElementById('loading').innerHTML = '–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebGL';
                return;
            }
            init();
        };
    </script>
</body>
</html>

